{% extends "webpage/base.html" %}
{% load staticfiles %}
{% load django_tables2 %}
{% load browsing_extras %}
{% load i18n %}
{% block Titel %} Browse {{ class_name }} {% endblock %}
{% block scriptHeader %}
{% endblock %}
{% block content %}
<style>


</style>
<script>
    var new_url = old_url.substring(0, window.location.href.indexOf('?'));
</script>

<script type="text/javascript">

$(document).ready(function() {

var fetchedParameter = "{{ table.page.number }}";
$("#goto option").each(function() {
    if($(this).text() == fetchedParameter) {
        $(this).attr('selected', 'selected');
    }
});

});
</script>

<div class="container">
<div class="panel panel-default">
    <div class="panel-heading procustom-panel-heading">

        <h3><span class="fa fa-search" style="padding-left:10px; padding-right: 10px;">
        </span>Browse {% class_definition %} {% block list_title %}{% endblock %}</h3>
    
          {% load django_tables2 crispy_forms_tags %}
            <form action="." class="uniForm" method="get">
                {% if togglable_colums %}
                <br>
                    <legend>Select additional columns</legend>
                    {% column_selector  %}
                    <br>
                {% endif %}

            {% crispy filter.form filter.form.helper %}

            </form>
            
    {% block create_button %}{% endblock %}
 </div>
    <div class="panel-body procustom-panel-body">
    {{ freq_table|safe }}

</div>
</div>
</div>


<script type="text/javascript">
  /* attached to jquery */
/* attached to Bootstrap.js */

//******ACCORDION TOGGLE - collapse/closed shows plus, and open shows minus

    var $activePanelHeading = $('.panel-group .panel .panel-collapse.in').prev().addClass('active');  //add class="active" to panel-heading div above the "collapse in" (open) div
    $activePanelHeading.find('a').prepend('<span class="fa fa-minus-square-o"></span> ');  //put the minus-sign inside of the "a" tag
    $('.panel-group .panel-heading').not($activePanelHeading).find('a').prepend('<span class="fa fa-plus-square-o"></span> ');  //if it's not active, it will put a plus-sign inside of the "a" tag
    $('.panel-group').on('show.bs.collapse', function (e) {  //event fires when "show" instance is called
        //$('.panel-group .panel-heading.active').removeClass('active').find('.fa').toggleClass('fa-plus fa-minus-square-o'); - removed so multiple can be open and have minus sign
        $(e.target).prev().addClass('active').find('.fa').toggleClass('fa-plus-square-o fa-minus-square-o');
    });
    $('.panel-group').on('hide.bs.collapse', function (e) {  //event fires when "hide" method is called
        $(e.target).prev().removeClass('active').find('.fa').removeClass('fa-minus-square-o').addClass('fa-plus-square-o');
    });
</script>
{% block customScripts %}
{% endblock %}
{% endblock %}
